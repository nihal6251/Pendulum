/*!
 * @pixi/canvas-sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
this.PIXI=this.PIXI||{};var _pixi_canvas_sprite=function(t,e,r,o,i,n){"use strict";var a=new r.Matrix,s=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var i=t._texture,n=this.renderer,s=n.context;if(i.valid){var h=i._frame.width,l=i._frame.height,d=i._frame.width,u=i._frame.height;i.trim&&(r.groupD8.isVertical(i.rotate)?(d=i.trim.height,u=i.trim.width):(d=i.trim.width,u=i.trim.height));var p=t.transform.worldTransform,f=0,c=0,_=i.baseTexture.getDrawableSource();if(!(i.orig.width<=0||i.orig.height<=0)&&i.valid&&_){n.setBlendMode(t.blendMode,!0),n.context.globalAlpha=t.worldAlpha;var m=i.baseTexture.scaleMode===e.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==m&&(s[n.smoothProperty]=m),i.trim?(f=i.trim.width/2+i.trim.x-t.anchor.x*i.orig.width,c=i.trim.height/2+i.trim.y-t.anchor.y*i.orig.height):(f=(.5-t.anchor.x)*i.orig.width,c=(.5-t.anchor.y)*i.orig.height),i.rotate&&(p.copyTo(a),p=a,r.groupD8.matrixAppendRotationInv(p,i.rotate,f,c),f=0,c=0),f-=d/2,c-=u/2,n.setContextTransform(p,t.roundPixels,1),t.roundPixels&&(f|=0,c|=0);var g=i.baseTexture.resolution,v=n._outerBlend;v&&(s.save(),s.beginPath(),s.rect(f*n.resolution,c*n.resolution,d*n.resolution,u*n.resolution),s.clip()),16777215!==t.tint?(t._cachedTint===t.tint&&t._tintedCanvas.tintId===t._texture._updateID||(t._cachedTint=t.tint,t._tintedCanvas=o.canvasUtils.getTintedCanvas(t,t.tint)),s.drawImage(t._tintedCanvas,0,0,Math.floor(h*g),Math.floor(l*g),Math.floor(f*n.resolution),Math.floor(c*n.resolution),Math.floor(d*n.resolution),Math.floor(u*n.resolution))):s.drawImage(_,i._frame.x*g,i._frame.y*g,Math.floor(h*g),Math.floor(l*g),Math.floor(f*n.resolution),Math.floor(c*n.resolution),Math.floor(d*n.resolution),Math.floor(u*n.resolution)),v&&s.restore(),n.setBlendMode(e.BLEND_MODES.NORMAL)}}},t.prototype.destroy=function(){this.renderer=null},t.extension={name:"sprite",type:i.ExtensionType.CanvasRendererPlugin},t}();return n.Sprite.prototype._tintedCanvas=null,n.Sprite.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)},t.CanvasSpriteRenderer=s,Object.defineProperty(t,"__esModule",{value:!0}),t}({},PIXI,PIXI,PIXI,PIXI,PIXI);Object.assign(this.PIXI,_pixi_canvas_sprite);
//# sourceMappingURL=canvas-sprite.min.js.map
