/*!
 * @pixi/canvas-sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@pixi/constants"),e=require("@pixi/math"),r=require("@pixi/canvas-renderer"),o=require("@pixi/core"),i=require("@pixi/sprite"),n=new e.Matrix,a=function(){function i(t){this.renderer=t}return i.prototype.render=function(o){var i=o._texture,a=this.renderer,s=a.context;if(i.valid){var h=i._frame.width,l=i._frame.height,d=i._frame.width,u=i._frame.height;i.trim&&(e.groupD8.isVertical(i.rotate)?(d=i.trim.height,u=i.trim.width):(d=i.trim.width,u=i.trim.height));var p=o.transform.worldTransform,f=0,c=0,m=i.baseTexture.getDrawableSource();if(!(i.orig.width<=0||i.orig.height<=0)&&i.valid&&m){a.setBlendMode(o.blendMode,!0),a.context.globalAlpha=o.worldAlpha;var x=i.baseTexture.scaleMode===t.SCALE_MODES.LINEAR;a.smoothProperty&&a.context[a.smoothProperty]!==x&&(s[a.smoothProperty]=x),i.trim?(f=i.trim.width/2+i.trim.x-o.anchor.x*i.orig.width,c=i.trim.height/2+i.trim.y-o.anchor.y*i.orig.height):(f=(.5-o.anchor.x)*i.orig.width,c=(.5-o.anchor.y)*i.orig.height),i.rotate&&(p.copyTo(n),p=n,e.groupD8.matrixAppendRotationInv(p,i.rotate,f,c),f=0,c=0),f-=d/2,c-=u/2,a.setContextTransform(p,o.roundPixels,1),o.roundPixels&&(f|=0,c|=0);var g=i.baseTexture.resolution,v=a._outerBlend;v&&(s.save(),s.beginPath(),s.rect(f*a.resolution,c*a.resolution,d*a.resolution,u*a.resolution),s.clip()),16777215!==o.tint?(o._cachedTint===o.tint&&o._tintedCanvas.tintId===o._texture._updateID||(o._cachedTint=o.tint,o._tintedCanvas=r.canvasUtils.getTintedCanvas(o,o.tint)),s.drawImage(o._tintedCanvas,0,0,Math.floor(h*g),Math.floor(l*g),Math.floor(f*a.resolution),Math.floor(c*a.resolution),Math.floor(d*a.resolution),Math.floor(u*a.resolution))):s.drawImage(m,i._frame.x*g,i._frame.y*g,Math.floor(h*g),Math.floor(l*g),Math.floor(f*a.resolution),Math.floor(c*a.resolution),Math.floor(d*a.resolution),Math.floor(u*a.resolution)),v&&s.restore(),a.setBlendMode(t.BLEND_MODES.NORMAL)}}},i.prototype.destroy=function(){this.renderer=null},i.extension={name:"sprite",type:o.ExtensionType.CanvasRendererPlugin},i}();i.Sprite.prototype._tintedCanvas=null,i.Sprite.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)},exports.CanvasSpriteRenderer=a;
//# sourceMappingURL=canvas-sprite.min.js.map
